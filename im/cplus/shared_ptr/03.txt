weak_ptr:C++的weak_ptr里面有两类指针,一类是拥有对象的生命周期,
另一类是不拥有,只有访问权
那么weak_ptr到底在编程上有什么作用?
class A;
void func1(A* a);
void func2(A* a);
A* a = new A;
func1(a);
func2(a);
他们在同一个作用于的时候,a被释放后,惯有的
操作是a=NULL,这个时候func2或者func1中都可以判断
到这个变化.

但是如果func1在另一个线程/进程里面,你在传递
过来的时候a并不是空的a,但是指向的对象已经被释放掉了
这个指针不在有权限去访问,那么就会出现问题

所以weak_ptr就出现了,让你在使用资源之前,
先去p.lock()如果有则资源没有被释放掉,可以放心去用,否则就应该不能再使用了

